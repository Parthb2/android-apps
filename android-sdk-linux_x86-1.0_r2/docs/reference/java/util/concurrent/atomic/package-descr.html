






















































 








<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>java.util.concurrent.atomic Details - Android SDK</title>
<link rel="stylesheet" type="text/css" href="../../../../../assets/codesite/codesite.css" />
<link rel="stylesheet" type="text/css" href="../../../../../assets/codesite/codesearch.css" />
<link rel="stylesheet" type="text/css" href="../../../../../assets/codesite/semantic_headers.css" />
<link rel="stylesheet" type="text/css" href="../../../../../assets/style.css" />
<script src="../../../../../assets/search_autocomplete.js"></script>
<script src="../../../../../reference/lists.js"></script>
</head>

<body class="gc-documentation">
<div id="gc-container">
<a name="top"></a>

<div id="gc-header">
<div id="logo">
    <a href="http://code.google.com/android/"><img style="border: 0;" src="../../../../../assets-google/android-logo.gif"/></a>
</div> <!-- logo -->
</div> <!-- gc-header -->


<iframe id="backiFrame" name="backiFrame" style="display:none"></iframe>

<div id="codesiteContent" style="margin-top: 50px;">

<div id="gc-topnav">
    <span class="jd-toptitle">Android</span>
</div>

<div class="g-section g-tpl-180">

<a name="gc-toc-anchor"></a>  
<div class="g-unit g-first" id="gc-toc">
<div id="jd-searchbox" style="margin-top: 1px;">
    <input id="search_autocomplete"
            tabindex="1"
            autocomplete="off" type=text size="23"
            style="font-size:85%; color: #aaaaaa"
            value="(quick search)"
            onfocus="search_focus_changed(this, true)"
            onblur="search_focus_changed(this, false)"
            onkeydown="return search_changed(event, true, '../../../../../')"
            onkeyup="search_changed(event, false, '../../../../../')"
            onchange="search_changed(event, false, '../../../../../')"/>
    <div style="position: absolute;">
        <table id="search_filtered" class="jd-autocomplete-table-hidden"
                style="border: 1px solid #3366cc;"
                cellspacing=0>
        </table>
    </div>
</div>

<ul>
  <li>
    <h1><a href="../../../../../documentation.html">Documentation</a></h1>
    <ul>
      <li><a href="../../../../../what-is-android.html"><strong>What is Android?</strong></a></li>
      <li>
        <a href="../../../../../intro/index.html"><strong>Getting Started</strong></a>
        <ul>
          <li><a href="../../../../../intro/installing.html">Installing the SDK</a></li>
          <li><a href="../../../../../intro/upgrading.html">Upgrading the SDK</a></li>
          <li><a href="../../../../../intro/develop-and-debug.html">Developing/Debugging</a></li>
          <li><a href="../../../../../intro/hello-android.html">Hello Android</a></li>
          <li><a href="../../../../../intro/anatomy.html">Anatomy of an App</a></li>
          <li><a href="../../../../../intro/tutorial.html">Notepad Tutorial</a></li>
          <li><a href="../../../../../intro/tools.html">Development Tools</a></li>
          <li><a href="../../../../../intro/appmodel.html">Application Model</a></li>
          <li><a href="../../../../../intro/lifecycle.html">Application Life Cycle</a></li>
        </ul>
      </li>
      <li>
        <a href="../../../../../devel/index.html"><strong>Developing Applications</strong></a>
        <ul>
          <li><a href="../../../../../devel/implementing-ui.html">Implementing a UI</a></li>
          <li><a href="../../../../../devel/building-blocks.html">Building Blocks</a></li>
          <li><a href="../../../../../devel/data.html">Data Storage and Retrieval</a></li>
          <li><a href="../../../../../devel/security.html">Security Model</a></li>
          <li><a href="../../../../../devel/resources-i18n.html">Resources and i18n</a></li>
          <li><a href="../../../../../devel/sign-publish.html">Signing and Publishing Your App</a></li>
        </ul>
      </li>
      <li>  
        <a href="../../../../../toolbox/index.html"><strong>Developer Toolbox</strong></a>
        <ul>
          <li><a href="../../../../../toolbox/philosophy.html">Design Philosophy</a></li>
          <li><a href="../../../../../toolbox/custom-components.html">Building Custom Components</a></li>
          <li><a href="../../../../../toolbox/optional-apis.html">Optional APIs</a></li>
        </ul>
      </li>
      <li>  
        <a href="../../../../../reference/index.html"><strong>Reference Information</strong></a>
        <ul>
          <li><a href="../../../../../reference/packages.html">Package Index</a></li>
          <li><a href="../../../../../reference/classes.html">Class Index</a></li>
          <li><a href="../../../../../reference/hierarchy.html">Class Hierarchy</a></li>
          <li><a href="../../../../../reference/view-gallery.html">List of Views</a></li>
          <li><a href="../../../../../reference/available-intents.html">List of Intents</a></li>
          <li><a href="../../../../../reference/android/Manifest.permission.html">List of Permissions</a></li>
          <li><a href="../../../../../reference/available-resources.html">List of Resource Types</a></li>
          <li><a href="../../../../../reference/aidl.html">Android IDL</a></li>
          <li><a href="../../../../../reference/glossary.html">Glossary</a></li>
          <li><a href="../../../../../reference/keywords.html">Index</a></li>
        </ul>
      </li>
      
      <li>  
        <a href="../../../../../kb/index.html"><strong>FAQs</strong></a>
        <ul>
          <li><a href="../../../../../kb/general.html">General</a></li>
          <li><a href="../../../../../kb/commontasks.html">Common Tasks</a></li>
          <li><a href="../../../../../kb/troubleshooting.html">Troubleshooting</a></li>
          <li><a href="../../../../../kb/licensingandoss.html">Open Source Licensing</a></li>
	  <li><a href="../../../../../kb/framework.html">Application Framework</a></li>
	  <li><a href="../../../../../kb/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <h1><a href="../../../../../roadmap.html">Roadmap</a></h1>
  </li>
  <li>
    <h1><a href="../../../../../goodies/index.html">Goodies</a></h1>
  </li>
</ul>


</div>

<a name="gc-pagecontent-anchor"></a>   
<div class="g-unit" id="gc-pagecontent">


<div id="jd-content">

<div class="jd-page_title-prefix">package</div>
<h1>java.util.concurrent.atomic</b></h1>

<div class="jd-nav">
    <a class="jd-navlink" href="package-summary.html">Classes</a> |
    Description
</div>

<div class="jd-descr">
<p>A small toolkit of classes that support lock-free thread-safe
programming on single variables. In essence, the classes in this
package extend the notion of <tt>volatile</tt> values, fields, and
array elements to those that also provide an atomic conditional update
operation of the form:

<pre>
  boolean compareAndSet(expectedValue, updateValue);
</pre>

<p> This method (which varies in argument types across different
classes) atomically sets a variable to the <tt>updateValue</tt> if it
currently holds the <tt>expectedValue</tt>, reporting <tt>true</tt> on
success.  The classes in this package also contain methods to get and
unconditionally set values, as well as a weaker conditional atomic
update operation <tt> weakCompareAndSet</tt>.  The weak version may be
more efficient in the normal case, but differs in that any given
invocation of <tt>weakCompareAndSet</tt> method may fail, even
spuriously (that is, for no apparent reason). A <tt>false</tt> return
means only that the operation may be retried if desired, relying on
the guarantee that repeated invocation when the variable holds
<tt>expectedValue</tt> and no other thread is also attempting to set
the variable will eventually succeed.

<p> The specifications of these methods enable implementations to
employ efficient machine-level atomic instructions that are available
on contemporary processors. However on some platforms, support may
entail some form of internal locking. Thus the methods are not
strictly guaranteed to be non-blocking --
a thread may block transiently before performing the operation.

<p> Instances of classes <a href="../../../../../reference/java/util/concurrent/atomic/AtomicBoolean.html">AtomicBoolean</a>, <a href="../../../../../reference/java/util/concurrent/atomic/AtomicInteger.html">AtomicInteger</a>, <a href="../../../../../reference/java/util/concurrent/atomic/AtomicLong.html">AtomicLong</a>, and <a href="../../../../../reference/java/util/concurrent/atomic/AtomicReference.html">AtomicReference</a> each provide access and
updates to a single variable of the corresponding type.  Each class
also provides appropriate utility methods for that type.  For example,
classes <tt>AtomicLong</tt> and <tt>AtomicInteger</tt> provide atomic
increment methods.  One application is to generate sequence numbers,
as in:

<pre>
class Sequencer {
  private AtomicLong sequenceNumber = new AtomicLong(0);
  public long next() { return sequenceNumber.getAndIncrement(); }
}
</pre>

<p>The memory effects for accesses and updates of atomics generally follow the
rules for volatiles:

<ul>

  <li> <tt>get</tt> has the memory effects of reading a
<tt>volatile</tt> variable.

  <li> <tt>set</tt> has the memory effects of writing (assigning) a
<tt>volatile</tt> variable.

  <li><tt>weakCompareAndSet</tt> atomically reads and conditionally
  writes a variable, is ordered with respect to other
  memory operations on that variable, but otherwise acts as an
  ordinary non-volatile memory operation.

  <li> <tt>compareAndSet</tt>
  and all other read-and-update operations such as <tt>getAndIncrement</tt>
  have the memory effects of both reading and
  writing <tt>volatile</tt> variables.
</ul> 

<p>In addition to classes representing single values, this package
contains <em>Updater</em> classes that can be used to obtain
<tt>compareAndSet</tt> operations on any selected <tt>volatile</tt>
field of any selected class.  <a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceFieldUpdater.html">AtomicReferenceFieldUpdater</a>, <a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerFieldUpdater.html">AtomicIntegerFieldUpdater</a>, and <a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongFieldUpdater.html">AtomicLongFieldUpdater</a> are
reflection-based utilities that provide access to the associated field
types. These are mainly of use in atomic data structures in which
several <tt>volatile</tt> fields of the same node (for example, the
links of a tree node) are independently subject to atomic
updates. These classes enable greater flexibility in how and when to
use atomic updates, at the expense of more awkward reflection-based
setup, less convenient usage, and weaker guarantees.

<p>The <a href="../../../../../reference/java/util/concurrent/atomic/AtomicIntegerArray.html">AtomicIntegerArray</a>, <a href="../../../../../reference/java/util/concurrent/atomic/AtomicLongArray.html">AtomicLongArray</a>, and <a href="../../../../../reference/java/util/concurrent/atomic/AtomicReferenceArray.html">AtomicReferenceArray</a> classes further
extend atomic operation support to arrays of these types. These
classes are also notable in providing <tt>volatile</tt> access
semantics for their array elements, which is not supported for
ordinary arrays.

<p> The <a href="../../../../../reference/java/util/concurrent/atomic/AtomicMarkableReference.html">AtomicMarkableReference</a>
class associates a single boolean with a reference. For example, this
bit might be used inside a data structure to mean that the object
being referenced has logically been deleted. The <a href="../../../../../reference/java/util/concurrent/atomic/AtomicStampedReference.html">AtomicStampedReference</a> class associates
an integer value with a reference. This may be used for example, to
represent version numbers corresponding to series of updates.

<p> Atomic classes are designed primarily as building blocks for
implementing non-blocking data structures and related infrastructure
classes.  The <tt>compareAndSet</tt> method is not a general
replacement for locking. It applies only when critical updates for an
object are confined to a <em>single</em> variable.

<p> Atomic classes are not general purpose replacements for
<tt>java.lang.Integer</tt> and related classes. They do <em>not</em>
define methods such as <tt>hashCode</tt> and
<tt>compareTo</tt>. (Because atomic variables are expected to be
mutated, they are poor choices for hash table keys.)  Additionally,
classes are provided only for those types that are commonly useful in
intended applications. For example, there is no atomic class for
representing <tt>byte</tt>. In those infrequent cases where you would
like to do so, you can use an <tt>AtomicInteger</tt> to hold
<tt>byte</tt> values, and cast appropriately. You can also hold floats
using <tt>Float.floatToIntBits</tt> and <tt>Float.intBitstoFloat</tt>
conversions, and doubles using <tt>Double.doubleToLongBits</tt> and
<tt>Double.longBitsToDouble</tt> conversions.</p>
</div>

</div>
</div><!-- end gc-pagecontent -->
</div><!-- end gooey wrapper -->

<div style="padding-left: 10px; padding-right: 10px; margin-top: 0; padding-bottom: 15px;">
    <table style="width: 100%; border:none;"><tr>
    <td style="border: none; width: 150px;"></td>
    <td style="text-align: left; font-size: 10pt; border: none; color: silver;">Copyright 2007 <a href="http://labs.google.com/">Google Inc.</a></td>
    <td style="text-align: right; font-size: 10pt; border: none; color: silver;">Build 119366-119366 - 19 Nov 2008 16:04</td>
    </tr></table>
</div>


</body>

</html>
