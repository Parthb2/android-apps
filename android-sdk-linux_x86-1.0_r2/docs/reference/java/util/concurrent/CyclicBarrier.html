






















































 








<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>java.util.concurrent.CyclicBarrier - Android SDK</title>
<link rel="stylesheet" type="text/css" href="../../../../assets/codesite/codesite.css" />
<link rel="stylesheet" type="text/css" href="../../../../assets/codesite/codesearch.css" />
<link rel="stylesheet" type="text/css" href="../../../../assets/codesite/semantic_headers.css" />
<link rel="stylesheet" type="text/css" href="../../../../assets/style.css" />
<script src="../../../../assets/search_autocomplete.js"></script>
<script src="../../../../reference/lists.js"></script>
</head>

<script type="text/javascript">
function toggle_inherited(base) {
    var list = document.getElementById(base + "-list");
    var summary = document.getElementById(base + "-summary");
    var trigger = document.getElementById(base + "-trigger");
    if (list.style.display == "none") {
        list.style.display = "block";
        summary.style.display = "none";
        trigger.src = "../../../../assets/triangle-open.png";
    } else {
        list.style.display = "none";
        summary.style.display = "block";
        trigger.src = "../../../../assets/triangle-close.png";
    }
}
</script>
<body class="gc-documentation">
<div id="gc-container">
<a name="top"></a>

<div id="gc-header">
<div id="logo">
    <a href="http://code.google.com/android/"><img style="border: 0;" src="../../../../assets-google/android-logo.gif"/></a>
</div> <!-- logo -->
</div> <!-- gc-header -->


<iframe id="backiFrame" name="backiFrame" style="display:none"></iframe>

<div id="codesiteContent" style="margin-top: 50px;">

<div id="gc-topnav">
    <span class="jd-toptitle">Android</span>
</div>

<div class="g-section g-tpl-180">

<a name="gc-toc-anchor"></a>  
<div class="g-unit g-first" id="gc-toc">
<div id="jd-searchbox" style="margin-top: 1px;">
    <input id="search_autocomplete"
            tabindex="1"
            autocomplete="off" type=text size="23"
            style="font-size:85%; color: #aaaaaa"
            value="(quick search)"
            onfocus="search_focus_changed(this, true)"
            onblur="search_focus_changed(this, false)"
            onkeydown="return search_changed(event, true, '../../../../')"
            onkeyup="search_changed(event, false, '../../../../')"
            onchange="search_changed(event, false, '../../../../')"/>
    <div style="position: absolute;">
        <table id="search_filtered" class="jd-autocomplete-table-hidden"
                style="border: 1px solid #3366cc;"
                cellspacing=0>
        </table>
    </div>
</div>

<ul>
  <li>
    <h1><a href="../../../../documentation.html">Documentation</a></h1>
    <ul>
      <li><a href="../../../../what-is-android.html"><strong>What is Android?</strong></a></li>
      <li>
        <a href="../../../../intro/index.html"><strong>Getting Started</strong></a>
        <ul>
          <li><a href="../../../../intro/installing.html">Installing the SDK</a></li>
          <li><a href="../../../../intro/upgrading.html">Upgrading the SDK</a></li>
          <li><a href="../../../../intro/develop-and-debug.html">Developing/Debugging</a></li>
          <li><a href="../../../../intro/hello-android.html">Hello Android</a></li>
          <li><a href="../../../../intro/anatomy.html">Anatomy of an App</a></li>
          <li><a href="../../../../intro/tutorial.html">Notepad Tutorial</a></li>
          <li><a href="../../../../intro/tools.html">Development Tools</a></li>
          <li><a href="../../../../intro/appmodel.html">Application Model</a></li>
          <li><a href="../../../../intro/lifecycle.html">Application Life Cycle</a></li>
        </ul>
      </li>
      <li>
        <a href="../../../../devel/index.html"><strong>Developing Applications</strong></a>
        <ul>
          <li><a href="../../../../devel/implementing-ui.html">Implementing a UI</a></li>
          <li><a href="../../../../devel/building-blocks.html">Building Blocks</a></li>
          <li><a href="../../../../devel/data.html">Data Storage and Retrieval</a></li>
          <li><a href="../../../../devel/security.html">Security Model</a></li>
          <li><a href="../../../../devel/resources-i18n.html">Resources and i18n</a></li>
          <li><a href="../../../../devel/sign-publish.html">Signing and Publishing Your App</a></li>
        </ul>
      </li>
      <li>  
        <a href="../../../../toolbox/index.html"><strong>Developer Toolbox</strong></a>
        <ul>
          <li><a href="../../../../toolbox/philosophy.html">Design Philosophy</a></li>
          <li><a href="../../../../toolbox/custom-components.html">Building Custom Components</a></li>
          <li><a href="../../../../toolbox/optional-apis.html">Optional APIs</a></li>
        </ul>
      </li>
      <li>  
        <a href="../../../../reference/index.html"><strong>Reference Information</strong></a>
        <ul>
          <li><a href="../../../../reference/packages.html">Package Index</a></li>
          <li><a href="../../../../reference/classes.html">Class Index</a></li>
          <li><a href="../../../../reference/hierarchy.html">Class Hierarchy</a></li>
          <li><a href="../../../../reference/view-gallery.html">List of Views</a></li>
          <li><a href="../../../../reference/available-intents.html">List of Intents</a></li>
          <li><a href="../../../../reference/android/Manifest.permission.html">List of Permissions</a></li>
          <li><a href="../../../../reference/available-resources.html">List of Resource Types</a></li>
          <li><a href="../../../../reference/aidl.html">Android IDL</a></li>
          <li><a href="../../../../reference/glossary.html">Glossary</a></li>
          <li><a href="../../../../reference/keywords.html">Index</a></li>
        </ul>
      </li>
      
      <li>  
        <a href="../../../../kb/index.html"><strong>FAQs</strong></a>
        <ul>
          <li><a href="../../../../kb/general.html">General</a></li>
          <li><a href="../../../../kb/commontasks.html">Common Tasks</a></li>
          <li><a href="../../../../kb/troubleshooting.html">Troubleshooting</a></li>
          <li><a href="../../../../kb/licensingandoss.html">Open Source Licensing</a></li>
	  <li><a href="../../../../kb/framework.html">Application Framework</a></li>
	  <li><a href="../../../../kb/security.html">Security</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>
    <h1><a href="../../../../roadmap.html">Roadmap</a></h1>
  </li>
  <li>
    <h1><a href="../../../../goodies/index.html">Goodies</a></h1>
  </li>
</ul>


</div>

<a name="gc-pagecontent-anchor"></a>   
<div class="g-unit" id="gc-pagecontent">

<div id="jd-content">


<!-- ======== START OF CLASS DATA ======== -->

<div class="jd-page_title-prefix">
    
<a href="../../../../reference/java/util/concurrent/package-summary.html">java.util.concurrent</a>
<br/>
    public 
     
     
    
    class
</div>
<h1>java.util.concurrent.CyclicBarrier</h1>

<table class="jd-inheritance-table">


    <tr>
        
        <td colspan="2" class="jd-inheritance-class-cell"><a href="../../../../reference/java/lang/Object.html">java.lang.Object</a></td>
        <td class="jd-inheritance-interface-cell">
        </td>
    </tr>
    

    <tr>
        
            <td class="jd-inheritance-space"></td>
        
        <td colspan="1" class="jd-inheritance-class-cell">java.util.concurrent.CyclicBarrier</td>
        <td class="jd-inheritance-interface-cell">
        </td>
    </tr>
    

</table>


<div class="jd-descr">




<p>A synchronization aid that allows a set of threads to all wait for
 each other to reach a common barrier point.  CyclicBarriers are
 useful in programs involving a fixed sized party of threads that
 must occasionally wait for each other. The barrier is called
 <em>cyclic</em> because it can be re-used after the waiting threads
 are released.

 <p>A <tt>CyclicBarrier</tt> supports an optional <a href="../../../../reference/java/lang/Runnable.html">Runnable</a> command
 that is run once per barrier point, after the last thread in the party
 arrives, but before any threads are released. 
 This <em>barrier action</em> is useful
 for updating shared-state before any of the parties continue.
 
 <p><b>Sample usage:</b> Here is an example of
  using a barrier in a parallel decomposition design:
 <pre>
 class Solver {
   final int N;
   final float[][] data;
   final CyclicBarrier barrier;
   
   class Worker implements Runnable {
     int myRow;
     Worker(int row) { myRow = row; }
     public void run() {
       while (!done()) {
         processRow(myRow);

         try {
           barrier.await(); 
         } catch (InterruptedException ex) { 
           return; 
         } catch (BrokenBarrierException ex) { 
           return; 
         }
       }
     }
   }

   public Solver(float[][] matrix) {
     data = matrix;
     N = matrix.length;
     barrier = new CyclicBarrier(N, 
                                 new Runnable() {
                                   public void run() { 
                                     mergeRows(...); 
                                   }
                                 });
     for (int i = 0; i < N; ++i) 
       new Thread(new Worker(i)).start();

     waitUntilDone();
   }
 }
 </pre>
 Here, each worker thread processes a row of the matrix then waits at the 
 barrier until all rows have been processed. When all rows are processed
 the supplied <a href="../../../../reference/java/lang/Runnable.html">Runnable</a> barrier action is executed and merges the 
 rows. If the merger
 determines that a solution has been found then <tt>done()</tt> will return
 <tt>true</tt> and each worker will terminate.

 <p>If the barrier action does not rely on the parties being suspended when
 it is executed, then any of the threads in the party could execute that
 action when it is released. To facilitate this, each invocation of
 <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await()</a> returns the arrival index of that thread at the barrier.
 You can then choose which thread should execute the barrier action, for 
 example:
 <pre>  if (barrier.await() == 0) {
     // log the completion of this iteration
   }</pre>

 <p>The <tt>CyclicBarrier</tt> uses a fast-fail all-or-none breakage
 model for failed synchronization attempts: If a thread leaves a
 barrier point prematurely because of interruption, failure, or
 timeout, all other threads, even those that have not yet resumed
 from a previous <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await()</a>. will also leave abnormally via
 <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a> (or <tt>InterruptedException</tt> if
 they too were interrupted at about the same time).</p>



<!-- ======== NESTED CLASS SUMMARY ======== -->








<div class="jd-tagdata">
    <h4 class="jd-tagtitle">See Also</h4>
    <ul class="nolist">
    <li><a href="../../../../reference/java/util/concurrent/CountDownLatch.html">CountDownLatch</a></li>
    
    </table>
    <ul>
</div>



</div><!-- jd-descr -->

<h2>Summary</h2>

<div class="jd-descr">












<!-- =========== FIELD SUMMARY =========== -->


























<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<h3>Public Constructors</h3>

<table class="jd-linktable">

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#CyclicBarrier(int, java.lang.Runnable)">CyclicBarrier</a>(int parties, <a href="../../../../reference/java/lang/Runnable.html">Runnable</a> barrierAction)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Creates a new <tt>CyclicBarrier</tt> that will trip when the
 given number of parties (threads) are waiting upon it, and which
 will execute the given barrier action when the barrier is tripped,
 performed by the last thread entering the barrier.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#CyclicBarrier(int)">CyclicBarrier</a>(int parties)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Creates a new <tt>CyclicBarrier</tt> that will trip when the
 given number of parties (threads) are waiting upon it, and
 does not perform a predefined action upon each barrier.</td>
    </tr>
    

</table>







<!-- ========== METHOD SUMMARY =========== -->
<h3>Public Methods</h3>

<table class="jd-linktable">

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">int&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await(long, java.util.concurrent.TimeUnit)">await</a>(long timeout, <a href="../../../../reference/java/util/concurrent/TimeUnit.html">TimeUnit</a> unit)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Waits until all <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">parties</a> have invoked <tt>await</tt>
 on this barrier.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">int&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Waits until all <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">parties</a> have invoked <tt>await</tt>
 on this barrier.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">int&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getNumberWaiting()">getNumberWaiting</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns the number of parties currently waiting at the barrier.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">int&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">getParties</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns the number of parties required to trip this barrier.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">boolean&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#isBroken()">isBroken</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Queries if this barrier is in a broken state.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#reset()">reset</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Resets the barrier to its initial state.</td>
    </tr>
    

</table>







<h5>
<a href="javascript:toggle_inherited('inherited-methods-java.lang.Object')" class="jd-expando-trigger"
        ><img id="inherited-methods-java.lang.Object-trigger"
        src="../../../../assets/triangle-open.png"
        class="jd-expando-trigger" /></a>
Methods inherited
    from class
    <a href="../../../../reference/java/lang/Object.html">java.lang.Object</a>
</h5>
<div id="inherited-methods-java.lang.Object">
<div id="inherited-methods-java.lang.Object-list"
        class="jd-inheritedlinks">

<a href="../../../../reference/java/lang/Object.html#clone()">clone</a>,

<a href="../../../../reference/java/lang/Object.html#equals(java.lang.Object)">equals</a>,

<a href="../../../../reference/java/lang/Object.html#finalize()">finalize</a>,

<a href="../../../../reference/java/lang/Object.html#getClass()">getClass</a>,

<a href="../../../../reference/java/lang/Object.html#hashCode()">hashCode</a>,

<a href="../../../../reference/java/lang/Object.html#notify()">notify</a>,

<a href="../../../../reference/java/lang/Object.html#notifyAll()">notifyAll</a>,

<a href="../../../../reference/java/lang/Object.html#toString()">toString</a>,

<a href="../../../../reference/java/lang/Object.html#wait(long, int)">wait</a>,

<a href="../../../../reference/java/lang/Object.html#wait(long)">wait</a>,

<a href="../../../../reference/java/lang/Object.html#wait()">wait</a>

</div>
<div id="inherited-methods-java.lang.Object-summary"
    style="display: none;">

<table class="jd-linktable">

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol"><a href="../../../../reference/java/lang/Object.html">Object</a>&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#clone()">clone</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns a new instance of the same class as the receiver, whose slots
 have been filled in with the values in the slots of the receiver.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">boolean&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#equals(java.lang.Object)">equals</a>(<a href="../../../../reference/java/lang/Object.html">Object</a> o)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Compares the argument to the receiver, and returns true if they represent
 the <em>same</em> object using a class specific comparison.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#finalize()">finalize</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Called by the virtual machine when there are no longer any (non-weak)
 references to the receiver.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol"><a href="../../../../reference/java/lang/Class.html">Class</a>&lt;?&nbsp;extends&nbsp;<a href="../../../../reference/java/lang/Object.html">Object</a>&gt;&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#getClass()">getClass</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns the unique instance of java.lang.Class which represents the class
 of the receiver.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">int&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#hashCode()">hashCode</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns an integer hash code for the receiver.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#notify()">notify</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Causes one thread which is <code>wait</code> ing on the receiver to be
 made ready to run.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#notifyAll()">notifyAll</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Causes all threads which are <code>wait</code> ing on the receiver to
 be made ready to run.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol"><a href="../../../../reference/java/lang/String.html">String</a>&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#toString()">toString</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Returns a string containing a concise, human-readable description of the
 receiver.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#wait(long, int)">wait</a>(long time, int frac)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Causes the thread which sent this message to be made not ready to run
 either pending some change in the receiver (as indicated by
 <code>notify</code> or <code>notifyAll</code>) or the expiration of
 the timeout.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#wait(long)">wait</a>(long time)</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Causes the thread which sent this message to be made not ready to run
 either pending some change in the receiver (as indicated by
 <code>notify</code> or <code>notifyAll</code>) or the expiration of
 the timeout.</td>
    </tr>
    

    <tr>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">final&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">&nbsp;</td>
        <td class="jd-descrcol">void&nbsp;</td>
        <td class="jd-linkcol" width="100%"><a href="../../../../reference/java/lang/Object.html#wait()">wait</a>()</td>
    </tr>
    
    <tr>
        <td class="jd-commentrow" colspan="6"></td>
        <td class="jd-commentrow">Causes the thread which sent this message to be made not ready to run
 pending some change in the receiver (as indicated by <code>notify</code>
 or <code>notifyAll</code>).</td>
    </tr>
    

</table>

</div>
</div>



</div><!-- jd-descr (summary) -->

<h2>Details</h2>








<!-- XML Attributes -->


<!-- Enum Values -->


<!-- Constants -->


<!-- Fields -->


<!-- Public ctors -->

<h3>Public Constructors</h3>



<A NAME="CyclicBarrier(int, java.lang.Runnable)"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        
        CyclicBarrier(int parties, <a href="../../../../reference/java/lang/Runnable.html">Runnable</a> barrierAction)
    </h4>
    <div class="jd-details-descr">




Creates a new <tt>CyclicBarrier</tt> that will trip when the
 given number of parties (threads) are waiting upon it, and which
 will execute the given barrier action when the barrier is tripped,
 performed by the last thread entering the barrier.




<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Parameters</h4>
    <table class="jd-tagtable">
    <tr>
        <th>parties</td>
        <td>the number of threads that must invoke <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await()</a>
 before the barrier is tripped.</td>
      </tr>
    <tr>
        <th>barrierAction</td>
        <td>the command to execute when the barrier is
 tripped, or <tt>null</tt> if there is no action.</td>
      </tr>
    
    </table>
</div>






<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Throws</h4>
    <table class="jd-tagtable">
      <tr>
            <th><a href="../../../../reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></td>
            <td>if <tt>parties</tt> is less than 1.
</td>
        </tr>
    
    </table>
</div>






</div>
</div>


<A NAME="CyclicBarrier(int)"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        
        CyclicBarrier(int parties)
    </h4>
    <div class="jd-details-descr">




Creates a new <tt>CyclicBarrier</tt> that will trip when the
 given number of parties (threads) are waiting upon it, and
 does not perform a predefined action upon each barrier.




<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Parameters</h4>
    <table class="jd-tagtable">
    <tr>
        <th>parties</td>
        <td>the number of threads that must invoke <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await()</a>
 before the barrier is tripped.</td>
      </tr>
    
    </table>
</div>






<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Throws</h4>
    <table class="jd-tagtable">
      <tr>
            <th><a href="../../../../reference/java/lang/IllegalArgumentException.html">IllegalArgumentException</a></td>
            <td>if <tt>parties</tt> is less than 1.
</td>
        </tr>
    
    </table>
</div>






</div>
</div>





<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Protected ctors -->



<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Public methdos -->

<h3>Public Methods</h3>



<A NAME="await(long, java.util.concurrent.TimeUnit)"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        int
        await(long timeout, <a href="../../../../reference/java/util/concurrent/TimeUnit.html">TimeUnit</a> unit)
    </h4>
    <div class="jd-details-descr">




Waits until all <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">parties</a> have invoked <tt>await</tt>
 on this barrier.

 <p>If the current thread is not the last to arrive then it is
 disabled for thread scheduling purposes and lies dormant until
 one of the following things happens:
 <ul>
 <li>The last thread arrives; or
 <li>The specified timeout elapses; or
 <li>Some other thread <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupts</a> the current
 thread; or
 <li>Some other thread  <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupts</a> one of the
 other waiting threads; or
 <li>Some other thread times out while waiting for barrier; or
 <li>Some other thread invokes <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#reset()">reset()</a> on this barrier.
 </ul>
 <p>If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupted</a> while waiting
 </ul>
 then <a href="../../../../reference/java/lang/InterruptedException.html">InterruptedException</a> is thrown and the current thread's
 interrupted status is cleared.

 <p>If the barrier is <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#reset()">reset()</a> while any thread is waiting, or if 
 the barrier <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#isBroken()">is broken</a> when <tt>await</tt> is invoked,
 or while any thread is waiting,
 then <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a> is thrown.

 <p>If any thread is <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupted</a> while waiting,
 then all other waiting threads will throw 
 <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a> and the barrier is placed in the broken
 state.

 <p>If the current thread is the last thread to arrive, and a
 non-null barrier action was supplied in the constructor, then the
 current thread runs the action before allowing the other threads to 
 continue.
 If an exception occurs during the barrier action then that exception
 will be propagated in the current thread and the barrier is placed in
 the broken state.




<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Parameters</h4>
    <table class="jd-tagtable">
    <tr>
        <th>timeout</td>
        <td>the time to wait for the barrier</td>
      </tr>
    <tr>
        <th>unit</td>
        <td>the time unit of the timeout parameter</td>
      </tr>
    
    </table>
</div>




<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Returns</h4>
    <ul class="nolist"><li>the arrival index of the current thread, where index
  <tt><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">getParties()</a> - 1</tt> indicates the first to arrive and 
 zero indicates the last to arrive.</li></ul>
</div>



<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Throws</h4>
    <table class="jd-tagtable">
      <tr>
            <th><a href="../../../../reference/java/lang/InterruptedException.html">InterruptedException</a></td>
            <td>if the current thread was interrupted 
 while waiting</td>
        </tr>
      <tr>
            <th><a href="../../../../reference/java/util/concurrent/TimeoutException.html">TimeoutException</a></td>
            <td>if the specified timeout elapses.</td>
        </tr>
      <tr>
            <th><a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a></td>
            <td>if <em>another</em> thread was
 interrupted while the current thread was waiting, or the barrier was
 reset, or the barrier was broken when <tt>await</tt> was called,
 or the barrier action (if present) failed due an exception.
</td>
        </tr>
    
    </table>
</div>






</div>
</div>


<A NAME="await()"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        int
        await()
    </h4>
    <div class="jd-details-descr">




Waits until all <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">parties</a> have invoked <tt>await</tt>
 on this barrier.

 <p>If the current thread is not the last to arrive then it is
 disabled for thread scheduling purposes and lies dormant until
 one of following things happens:
 <ul>
 <li>The last thread arrives; or
 <li>Some other thread <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupts</a> the current
 thread; or
 <li>Some other thread  <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupts</a> one of the
 other waiting threads; or
 <li>Some other thread times out while waiting for barrier; or
 <li>Some other thread invokes <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#reset()">reset()</a> on this barrier.
 </ul>
 <p>If the current thread:
 <ul>
 <li>has its interrupted status set on entry to this method; or
 <li>is <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupted</a> while waiting
 </ul>
 then <a href="../../../../reference/java/lang/InterruptedException.html">InterruptedException</a> is thrown and the current thread's
 interrupted status is cleared.

 <p>If the barrier is <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#reset()">reset()</a> while any thread is waiting, or if 
 the barrier <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#isBroken()">is broken</a> when <tt>await</tt> is invoked,
 or while any thread is waiting,
 then <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a> is thrown.

 <p>If any thread is <a href="../../../../reference/java/lang/Thread.html#interrupt()">interrupted</a> while waiting,
 then all other waiting threads will throw 
 <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a> and the barrier is placed in the broken
 state.

 <p>If the current thread is the last thread to arrive, and a
 non-null barrier action was supplied in the constructor, then the
 current thread runs the action before allowing the other threads to 
 continue.
 If an exception occurs during the barrier action then that exception
 will be propagated in the current thread and the barrier is placed in
 the broken state.







<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Returns</h4>
    <ul class="nolist"><li>the arrival index of the current thread, where index
  <tt><a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#getParties()">getParties()</a> - 1</tt> indicates the first to arrive and 
 zero indicates the last to arrive.</li></ul>
</div>



<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Throws</h4>
    <table class="jd-tagtable">
      <tr>
            <th><a href="../../../../reference/java/lang/InterruptedException.html">InterruptedException</a></td>
            <td>if the current thread was interrupted 
 while waiting</td>
        </tr>
      <tr>
            <th><a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a></td>
            <td>if <em>another</em> thread was
 interrupted while the current thread was waiting, or the barrier was
 reset, or the barrier was broken when <tt>await</tt> was called,
 or the barrier action (if present) failed due an exception.
</td>
        </tr>
    
    </table>
</div>






</div>
</div>


<A NAME="getNumberWaiting()"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        int
        getNumberWaiting()
    </h4>
    <div class="jd-details-descr">




Returns the number of parties currently waiting at the barrier.
 This method is primarily useful for debugging and assertions.







<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Returns</h4>
    <ul class="nolist"><li>the number of parties currently blocked in <a href="../../../../reference/java/util/concurrent/CyclicBarrier.html#await()">await()</a>
</li></ul>
</div>








</div>
</div>


<A NAME="getParties()"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        int
        getParties()
    </h4>
    <div class="jd-details-descr">




Returns the number of parties required to trip this barrier.







<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Returns</h4>
    <ul class="nolist"><li>the number of parties required to trip this barrier.
</li></ul>
</div>








</div>
</div>


<A NAME="isBroken()"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        boolean
        isBroken()
    </h4>
    <div class="jd-details-descr">




Queries if this barrier is in a broken state.







<div class="jd-tagdata">
    <h4 class="jd-tagtitle">Returns</h4>
    <ul class="nolist"><li><tt>true</tt> if one or more parties broke out of this
 barrier due to interruption or timeout since construction or
 the last reset, or a barrier action failed due to an exception; 
 and <tt>false</tt> otherwise.
</li></ul>
</div>








</div>
</div>


<A NAME="reset()"></A>
<div class="jd-details"> 
    <h4 class="jd-details-title">
        public 
         
         
         
         
        void
        reset()
    </h4>
    <div class="jd-details-descr">




Resets the barrier to its initial state.  If any parties are
 currently waiting at the barrier, they will return with a
 <a href="../../../../reference/java/util/concurrent/BrokenBarrierException.html">BrokenBarrierException</a>. Note that resets <em>after</em>
 a breakage has occurred for other reasons can be complicated to
 carry out; threads need to re-synchronize in some other way,
 and choose one to perform the reset.  It may be preferable to
 instead create a new barrier for subsequent use.















</div>
</div>





<!-- ========= METHOD DETAIL ======== -->



<!-- ========= END OF CLASS DATA ========= -->

</div> <!-- jd-content -->
</div><!-- end gc-pagecontent -->
</div><!-- end gooey wrapper -->

<div style="padding-left: 10px; padding-right: 10px; margin-top: 0; padding-bottom: 15px;">
    <table style="width: 100%; border:none;"><tr>
    <td style="border: none; width: 150px;"></td>
    <td style="text-align: left; font-size: 10pt; border: none; color: silver;">Copyright 2007 <a href="http://labs.google.com/">Google Inc.</a></td>
    <td style="text-align: right; font-size: 10pt; border: none; color: silver;">Build 119366-119366 - 19 Nov 2008 16:04</td>
    </tr></table>
</div>


</body>

</html>
